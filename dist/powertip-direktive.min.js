angular.module("tpl.powertip",[]).directive("powertip",["$compile","$document",function(a,b){"use strict";return{template:"",restrict:"A",scope:{placement:"@powertipPlacement",title:"=powertipTitle",color:"=powertipColor",config:"="},link:function(c,d,e){var f=[];e.powertip&&(d[0].title=e.title);var g={};c.config?(c.config.placement&&(g.placement=c.config.placement),g.title=c.config.title):(g.smartPlacement=!0,c.placement&&(g.placement=c.placement)),d.powerTip(g),d.on("powerTipRender",function(){$("#powerTip").addClass("powertip")}),c.$watch("config",function(a){a&&c.config&&d.data("powertip",c.config.title)}),c.$watch("color",function(d){d&&(angular.forEach(f,function(a){a.remove()}),c.color=d,b("#powertip-style-1")&&f.push(a('<style id="powertip-style-1">.powertip{  border-bottom: 4px solid '+d+";}</style>")(c)),b("#powertip-style-2")&&f.push(a('<style id="powertip-style-2">.powertip.n:before, .powertip.ne:before, .powertip.nw:before, .powertip.ne-alt:before, .powertip.nw-alt:before{border-top: 10px solid'+d+";}</style>")(c)),b("#powertip-style-3")&&f.push(a('<style id="powertip-style-3">.powertip.s, .powertip.se, .powertip.sw, .powertip.se-alt, .powertip.sw-alt{border-top: 4px solid'+d+";}</style>")(c)),b("#powertip-style-4")&&f.push(a('<style id="powertip-style-4">.powertip.s:before, .powertip.se:before, .powertip.sw:before, .powertip.se-alt:before, .powertip.sw-alt:before{border-bottom: 10px solid '+d+";}</style>")(c)),angular.forEach(f,function(a){b.find("head").append(a)}))}),c.$watch("title",function(a){d.data("powertip",a)}),d.on("$destroy",function(){d.powerTip("destroy")})}}}]);